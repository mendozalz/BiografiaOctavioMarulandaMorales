---
import Autor from "@/components/Autor.astro";
import Layout from "./Layout.astro";
import { fade } from "astro:transitions";
import LibroAnimado from "@/components/LibroAnimado.astro";

interface Props {
  slug: string;
  title: string;
  autor: string;
  bio: string;
  heroImg: string;
  description: string;
  pubDate: string;
  category: string[];
  descargar: string;
}

const { slug, title, heroImg, description, pubDate, category, autor, bio, descargar } =
  Astro.props;
  
---

<Layout title={title}>
  <div class="mt-[100px] lg:mt-[130px] p-6">
    <div class="lg:max-w-[85vw] m-auto">
      <div>
        <a
          class="text-black inline-flex cursor-pointer items-center gap-2 self-start rounded-full border px-6 py-2 transition-colors duration-200 hover:border-verde-dark text-verde-oscuro"
          href="/#libros"
        >
          <svg
            viewBox="0 -960 960 960"
            xmlns="http://www.w3.org/2000/svg"
            height="20"
            width="20"
            ><path
              class=""
              d="m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"
              fill="#698084"></path></svg
          >
          Volver
        </a>
      </div>
      <div class="hero-single-libros grid lg:grid-cols-2">
        <!-- Libros Portada -->
        <div class="order-last lg:order-first">
          <LibroAnimado descargar={descargar} heroImg={heroImg}/>
        </div>
        <!--  -->
        <div class="lg:border-l-2 lg:pl-8">
          <!-- Categoria y Fecha de publicación Movil-->
          <div class="categoria-fecha-movil flex lg:hidden justify-between items-center gap-4 w-full h-20">
            <div>
              <span
                class="border-verde-medio border-2 text-verde-oscuro font-medium rounded-3xl px-4 py-2 text-base"
                >{category}</span
              >
            </div>
            <time class="text-[20px] font-bold text-verde-oscuro" datetime={pubDate.toString()}>{pubDate}</time>
          </div>
          <div class="w-full m-auto lg:max-w-[85vw]">
            <!-- Heo Single Post -->
            <img
              class="w-full h-[380px] rounded-xl lg:rounded-s-none object-cover"
              width="1020"
              height="320"
              src={heroImg}
              alt=""
            />
          </div>
          <!-- Titulo -->
          <h1
            class="text-[36px] text-left lg:text-center lg:text-[56px] font-semibold lg:leading-[70px] lg:mt-8"
          >
            {title}
          </h1>
          <!-- Categoria y Fecha de publicación PC-->
          <div class="categoria-fecha-pc hidden lg:flex justify-start items-center gap-4 w-full h-20">
            <div>
              <span
                class="border-verde-medio text-verde-oscuro border-2 text-verdeborder-verde-oscuro font-medium rounded-3xl px-4 py-2 text-base"
                >{category}</span
              >
            </div>
            <time class="text-[20px] font-bold text-verde-oscuro" datetime={pubDate.toString()}>{pubDate}</time>
          </div>
        </div>
      </div>
      <!-- Contenido del libro -->
      <li class="max-w-article-size mx-auto w-full h-auto space-y-4 list-none">
        <div
          transition:animate={fade({ duration: "0.4s" })}
          class="w-full max-w-[none] rounded-xl"
        >
          <article>
            <div
              class="prose prose-zinc prose-invert lg:prose-xl lg:px-12 pb-12 m-auto"
            >
              <slot />
            </div>
          </article>
        </div>
      </li>
      <!--  -->
    </div>
    <div class="img-autor">
      <Autor autor={autor} bio={bio} />
    </div>
  </div>
</Layout>
